<div class="cv-modern-preview">
    <div class="header d-flex justify-content-between align-items-start mb-4 pb-3 border-bottom border-primary">
        <div>
            <h1 class="fw-bold text-primary">{{ cv_data.fullName }}</h1>
            <p class="fs-5 text-muted">{{ cv_data.jobTitle }}</p>
        </div>
        <div class="text-end">
            <p>{{ cv_data.email }}</p>
            <p>{{ cv_data.phone }}</p>
            {% if cv_data.address %}
                <p>{{ cv_data.address }}</p>
            {% endif %}
        </div>
    </div>

    <div class="summary mb-4">
        <h3 class="fw-bold text-primary border-bottom border-primary pb-2 mb-3">Professional Summary</h3>
        <p>{{ cv_data.summary }}</p>
    </div>

    <div class="experience mb-4">
        <h3 class="fw-bold text-primary border-bottom border-primary pb-2 mb-3">Work Experience</h3>
        {% if cv_data.get('workTitle[]') %}
            {% for i in range(cv_data.get('workTitle[]')|length) %}
                <div class="mb-3 pb-3 {% if not loop.last %}border-bottom{% endif %}">
                    <h4 class="fw-bold mb-1">{{ cv_data.get('workTitle[]')[i] }}</h4>
                    <h5 class="text-primary mb-1">{{ cv_data.get('workCompany[]')[i] }}</h5>
                    <p class="text-muted fst-italic mb-2">
                        {{ cv_data.get('workStartDate[]')[i] }} – 
                        {% if cv_data.get('workEndDate[]') and cv_data.get('workEndDate[]')[i] %}
                            {{ cv_data.get('workEndDate[]')[i] }}
                        {% else %}
                            Present
                        {% endif %}
                    </p>
                    <p>{{ cv_data.get('workDescription[]')[i] }}</p>
                </div>
            {% endfor %}
        {% endif %}
    </div>

    <div class="education mb-4">
        <h3 class="fw-bold text-primary border-bottom border-primary pb-2 mb-3">Education</h3>
        {% if cv_data.get('educationDegree[]') %}
            {% for i in range(cv_data.get('educationDegree[]')|length) %}
                <div class="mb-3 pb-3 {% if not loop.last %}border-bottom{% endif %}">
                    <h4 class="fw-bold mb-1">{{ cv_data.get('educationDegree[]')[i] }}</h4>
                    <h5 class="text-primary mb-1">{{ cv_data.get('educationInstitution[]')[i] }}</h5>
                    <p class="text-muted fst-italic mb-2">
                        {{ cv_data.get('educationStartDate[]')[i] }} – 
                        {% if cv_data.get('educationEndDate[]') and cv_data.get('educationEndDate[]')[i] %}
                            {{ cv_data.get('educationEndDate[]')[i] }}
                        {% else %}
                            Present
                        {% endif %}
                    </p>
                    {% if cv_data.get('educationDescription[]') and cv_data.get('educationDescription[]')[i] %}
                        <p>{{ cv_data.get('educationDescription[]')[i] }}</p>
                    {% endif %}
                </div>
            {% endfor %}
        {% endif %}
    </div>

    <div class="skills">
        <h3 class="fw-bold text-primary border-bottom border-primary pb-2 mb-3">Skills</h3>
        <div class="d-flex flex-wrap gap-2">
            {% for skill in cv_data.skills.split(',') %}
                <span class="badge bg-light text-primary border border-primary py-2 px-3">{{ skill.strip() }}</span>
            {% endfor %}
        </div>
    </div>
</div> 